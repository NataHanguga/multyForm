<p-button
  icon="pi pi-arrow-left"
  class="ui-button-info"
  [routerLink]="['/']"
  routerLinkActive="router-link-active"
></p-button>
<div class="ui-grid ui-grid-responsive ">
  <div class="ui-grid-row">
    <div class="ui-grid-col-2"></div>
    <h3 class="ui-grid-col-2">Create new user</h3>
    <div class="ui-grid-col-2"></div>
  </div>
  <form [formGroup]="studentForm">
    <div class="ui-grid-row">
      <div class="ui-grid-col-2">Full Name:</div>
      <input
        type="text"
        name="fullName"
        class="ui-grid-col-4"
        id="fullName"
        formControlName="fullName"
        pInputText
        autocomplete="off"
        required
      />
    </div>
    <div class="ui-grid-row">
      <div class="ui-grid-col-2">Student class:</div>
      <input
        type="number"
        name="classNumber"
        class="ui-grid-col-4"
        id="classNumber"
        min="1"
        max="9"
        formControlName="classNumber"
        pInputText
        autocomplete="off"
        required
      />
    </div>
    <div class="ui-grid-row">
      <div class="ui-grid-col-2">Student type:</div>
      <p-selectButton
        [options]="types"
        class="ui-grid-col-6"
        [(ngModel)]="selectType"
        [ngModelOptions]="{ standalone: true }"
      ></p-selectButton>
      <!-- <input
        type="text"
        name="type"
        class="ui-grid-col-4"
        id="type"
        formControlName="type"
        pInputText
        autocomplete="off"
        required
      /> -->
    </div>
    <div formArrayName="subject">
      <div
        *ngFor="let sub of studentForm.controls.subject.controls; let i = index"
      >
        <div class="ui-grid-row">
          <span class="ui-grid-col-2">Subject {{ i + 1 }}</span>
          <p-button
            *ngIf="studentForm.controls.subject.controls.length > 1"
            (click)="removeSubject(i)"
            class="ui-grid-col-2"
            styleClass="ui-button-danger"
            label="Delete subject {{ i + 1 }}"
          ></p-button>
        </div>

        <div [formGroupName]="i">
          <div class="ui-grid-row">
            <div class="ui-grid-col-2">Subject title:</div>
            <input
              type="text"
              name="title"
              class="ui-grid-col-4"
              id="title"
              formControlName="title"
              pInputText
              autocomplete="off"
              required
            />
          </div>
          <div class="ui-grid-row">
            <div class="ui-grid-col-2">Subject teacher:</div>
            <input
              type="text"
              name="teacher"
              id="teacher"
              class="ui-grid-col-4"
              formControlName="teacher"
              pInputText
              autocomplete="off"
              required
            />
          </div>
          <div class="ui-grid-row">
            <div class="ui-grid-col-2">Start study date:</div>
            <input
              type="date"
              name="startDate"
              id="startDate"
              class="ui-grid-col-4"
              formControlName="startDate"
              pInputText
              autocomplete="off"
              required
            />
          </div>
          <div class="ui-grid-row">
            <div class="ui-grid-col-2">Finish study date:</div>
            <input
              type="date"
              name="finishDate"
              id="finishDate"
              class="ui-grid-col-4"
              formControlName="finishDate"
              pInputText
              autocomplete="off"
              required
            />
          </div>
        </div>
      </div>
    </div>
    <div class="ui-grid-row">
      <p-button
        icon="pi pi-plus"
        id="add-subject"
        (click)="addNewSubject()"
        styleClass="ui-button-secondary"
        label="Add subject"
      ></p-button>
      <p-button label="Save Student" (click)="save(studentForm)"></p-button>
    </div>
  </form>
</div>
